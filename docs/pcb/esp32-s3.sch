EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 1
Title "ESP32-S3"
Date "2021-11-30"
Rev "A"
Comp "St√ºrmer Benjamin"
Comment1 ""
Comment2 ""
Comment3 "USB type-c as power supply and charging"
Comment4 "Board with an ESP32-S3-WROOM-1-N8 produced by Espressif Systems"
$EndDescr
$Comp
L esp32-s3-rescue:ESP32-S3-WROOM-1-Espressif U1
U 1 1 6196FD1C
P 12900 2500
F 0 "U1" H 12875 4015 50  0000 C CNN
F 1 "ESP32-S3-WROOM-1-N8" H 12875 3924 50  0000 C CNN
F 2 "Espressif:ESP32-S3-WROOM-1" H 12900 950 50  0001 C CNN
F 3 "" H 12900 2800 50  0001 C CNN
	1    12900 2500
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_B_Micro J6
U 1 1 6192F907
P 1400 3000
F 0 "J6" H 1457 3467 50  0000 C CNN
F 1 "USB_B_Micro" H 1457 3376 50  0000 C CNN
F 2 "" H 1550 2950 50  0001 C CNN
F 3 "~" H 1550 2950 50  0001 C CNN
	1    1400 3000
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 61956299
P 3450 2950
F 0 "C1" H 3565 2996 50  0000 L CNN
F 1 "10nF" H 3565 2905 50  0000 L CNN
F 2 "" H 3488 2800 50  0001 C CNN
F 3 "~" H 3450 2950 50  0001 C CNN
	1    3450 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 3100 1850 3100
$Comp
L power:GND #PWR02
U 1 1 6196D98A
P 1350 3600
F 0 "#PWR02" H 1350 3350 50  0001 C CNN
F 1 "GND" H 1355 3427 50  0000 C CNN
F 2 "" H 1350 3600 50  0001 C CNN
F 3 "" H 1350 3600 50  0001 C CNN
	1    1350 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 3400 1300 3500
Wire Wire Line
	1300 3500 1350 3500
Wire Wire Line
	1350 3500 1350 3600
Wire Wire Line
	1400 3400 1400 3500
Wire Wire Line
	1400 3500 1350 3500
Connection ~ 1350 3500
Wire Wire Line
	1850 3100 1850 4000
Wire Wire Line
	1850 4000 950  4000
Wire Wire Line
	950  4000 950  2400
$Comp
L power:GND #PWR03
U 1 1 619598FB
P 3450 3400
F 0 "#PWR03" H 3450 3150 50  0001 C CNN
F 1 "GND" H 3455 3227 50  0001 C CNN
F 2 "" H 3450 3400 50  0001 C CNN
F 3 "" H 3450 3400 50  0001 C CNN
	1    3450 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 2800 1950 2800
Wire Wire Line
	1700 3000 1950 3000
Wire Wire Line
	1950 3000 1950 3350
Wire Wire Line
	1950 3350 2250 3350
Wire Wire Line
	2250 3350 2250 3200
$Comp
L Power_Protection:USBLC6-2SC6 U6
U 1 1 6194D3A1
P 2350 2800
F 0 "U6" V 2304 3244 50  0000 L CNN
F 1 "USBLC6-2SC6" V 2395 3244 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23-6" H 2350 2300 50  0001 C CNN
F 3 "https://www.st.com/resource/en/datasheet/usblc6-2.pdf" H 2550 3150 50  0001 C CNN
	1    2350 2800
	0    1    1    0   
$EndComp
Wire Wire Line
	2750 2800 3450 2800
Wire Wire Line
	5400 2800 5700 2800
$Comp
L power:GND #PWR06
U 1 1 6196BABB
P 5700 3400
F 0 "#PWR06" H 5700 3150 50  0001 C CNN
F 1 "GND" H 5705 3227 50  0001 C CNN
F 2 "" H 5700 3400 50  0001 C CNN
F 3 "" H 5700 3400 50  0001 C CNN
	1    5700 3400
	1    0    0    -1  
$EndComp
$Comp
L Device:C C14
U 1 1 6196BAB5
P 5700 2950
F 0 "C14" H 5815 2996 50  0000 L CNN
F 1 "100nF" H 5815 2905 50  0000 L CNN
F 2 "" H 5738 2800 50  0001 C CNN
F 3 "~" H 5700 2950 50  0001 C CNN
	1    5700 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 2800 4800 2800
$Comp
L power:GND #PWR05
U 1 1 6196437E
P 5200 3400
F 0 "#PWR05" H 5200 3150 50  0001 C CNN
F 1 "GND" H 5205 3227 50  0001 C CNN
F 2 "" H 5200 3400 50  0001 C CNN
F 3 "" H 5200 3400 50  0001 C CNN
	1    5200 3400
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_PMOS_GSD Q8
U 1 1 61961A19
P 5200 2900
F 0 "Q8" V 5542 2900 50  0000 C CNN
F 1 "Q_PMOS_GSD" V 5451 2900 50  0000 C CNN
F 2 "" H 5400 3000 50  0001 C CNN
F 3 "~" H 5200 2900 50  0001 C CNN
	1    5200 2900
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR04
U 1 1 6195D8B5
P 4200 3400
F 0 "#PWR04" H 4200 3150 50  0001 C CNN
F 1 "GND" H 4205 3227 50  0001 C CNN
F 2 "" H 4200 3400 50  0001 C CNN
F 3 "" H 4200 3400 50  0001 C CNN
	1    4200 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 2800 4200 2800
$Comp
L Device:C C15
U 1 1 6195B8FE
P 4200 2950
F 0 "C15" H 4315 2996 50  0000 L CNN
F 1 "4.7uF" H 4315 2905 50  0000 L CNN
F 2 "" H 4238 2800 50  0001 C CNN
F 3 "~" H 4200 2950 50  0001 C CNN
	1    4200 2950
	1    0    0    -1  
$EndComp
$Comp
L Device:Ferrite_Bead FB1
U 1 1 6195A700
P 3850 2800
F 0 "FB1" V 3576 2800 50  0000 C CNN
F 1 "600 @ 600MHz" V 3667 2800 50  0000 C CNN
F 2 "" V 3780 2800 50  0001 C CNN
F 3 "~" H 3850 2800 50  0001 C CNN
	1    3850 2800
	0    1    1    0   
$EndComp
$Comp
L Device:Fuse F1
U 1 1 61937420
P 4650 2800
F 0 "F1" V 4453 2800 50  0000 C CNN
F 1 "500mA" V 4544 2800 50  0000 C CNN
F 2 "" V 4580 2800 50  0001 C CNN
F 3 "~" H 4650 2800 50  0001 C CNN
	1    4650 2800
	0    1    1    0   
$EndComp
Wire Wire Line
	3450 2800 3700 2800
Connection ~ 3450 2800
Wire Wire Line
	4500 2800 4200 2800
Connection ~ 4200 2800
$Comp
L Device:R R8
U 1 1 619DFC8C
P 6300 3200
F 0 "R8" H 6370 3246 50  0000 L CNN
F 1 "100k" H 6370 3155 50  0000 L CNN
F 2 "" V 6230 3200 50  0001 C CNN
F 3 "~" H 6300 3200 50  0001 C CNN
	1    6300 3200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR07
U 1 1 619E545F
P 6300 3400
F 0 "#PWR07" H 6300 3150 50  0001 C CNN
F 1 "GND" H 6305 3227 50  0001 C CNN
F 2 "" H 6300 3400 50  0001 C CNN
F 3 "" H 6300 3400 50  0001 C CNN
	1    6300 3400
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_PMOS_GSD Q9
U 1 1 619E6C5D
P 6900 2800
F 0 "Q9" H 7105 2846 50  0000 L CNN
F 1 "Q_PMOS_GSD" H 7105 2755 50  0000 L CNN
F 2 "" H 7100 2900 50  0001 C CNN
F 3 "~" H 6900 2800 50  0001 C CNN
	1    6900 2800
	1    0    0    -1  
$EndComp
Connection ~ 5700 2800
Wire Wire Line
	3450 3100 3450 3400
Wire Wire Line
	4200 3100 4200 3400
Wire Wire Line
	5200 3100 5200 3400
Wire Wire Line
	5700 3100 5700 3400
Wire Wire Line
	5700 2800 6300 2800
$Comp
L Device:D_Schottky D6
U 1 1 619F3011
P 6550 3050
F 0 "D6" H 6550 2833 50  0000 C CNN
F 1 "D_Schottky" H 6550 2924 50  0000 C CNN
F 2 "" H 6550 3050 50  0001 C CNN
F 3 "~" H 6550 3050 50  0001 C CNN
	1    6550 3050
	-1   0    0    1   
$EndComp
Wire Wire Line
	6300 3050 6300 2800
Wire Wire Line
	6300 3350 6300 3400
Wire Wire Line
	6700 2800 6300 2800
Connection ~ 6300 2800
Wire Wire Line
	6400 3050 6300 3050
Connection ~ 6300 3050
Wire Wire Line
	6700 3050 7000 3050
Wire Wire Line
	7000 3050 7000 3000
$Comp
L esp32-s3-rescue:XC6220B331MR-Regulator_Linear U3
U 1 1 61A11BDC
P 8600 3150
F 0 "U3" H 8600 3517 50  0000 C CNN
F 1 "XC6220B331MR" H 8600 3426 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 8600 3150 50  0001 C CNN
F 3 "https://www.torexsemi.com/file/xc6220/XC6220.pdf" H 9350 2150 50  0001 C CNN
	1    8600 3150
	1    0    0    -1  
$EndComp
$Comp
L Device:C C17
U 1 1 61A13CB2
P 7150 3200
F 0 "C17" H 7265 3246 50  0000 L CNN
F 1 "10nF" H 7265 3155 50  0000 L CNN
F 2 "" H 7188 3050 50  0001 C CNN
F 3 "~" H 7150 3200 50  0001 C CNN
	1    7150 3200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 61A15796
P 7650 3200
F 0 "C5" H 7765 3246 50  0000 L CNN
F 1 "0.1u" H 7765 3155 50  0000 L CNN
F 2 "" H 7688 3050 50  0001 C CNN
F 3 "~" H 7650 3200 50  0001 C CNN
	1    7650 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 3050 7650 3050
Wire Wire Line
	7650 3050 7150 3050
Connection ~ 7650 3050
Wire Wire Line
	7150 3050 7000 3050
Connection ~ 7150 3050
Connection ~ 7000 3050
Wire Wire Line
	8100 3250 8100 3050
Connection ~ 8100 3050
Wire Wire Line
	8600 3550 7650 3550
Wire Wire Line
	7150 3550 7150 3350
Wire Wire Line
	7650 3350 7650 3550
Connection ~ 7650 3550
Wire Wire Line
	7650 3550 7150 3550
$Comp
L power:GND #PWR08
U 1 1 61A192B5
P 8600 3550
F 0 "#PWR08" H 8600 3300 50  0001 C CNN
F 1 "GND" H 8605 3377 50  0001 C CNN
F 2 "" H 8600 3550 50  0001 C CNN
F 3 "" H 8600 3550 50  0001 C CNN
	1    8600 3550
	1    0    0    -1  
$EndComp
Connection ~ 8600 3550
$Comp
L Device:C C6
U 1 1 61A19D22
P 9200 3200
F 0 "C6" H 9315 3246 50  0000 L CNN
F 1 "0.1uF" H 9315 3155 50  0000 L CNN
F 2 "" H 9238 3050 50  0001 C CNN
F 3 "~" H 9200 3200 50  0001 C CNN
	1    9200 3200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C18
U 1 1 61A1A89B
P 9650 3200
F 0 "C18" H 9765 3246 50  0000 L CNN
F 1 "4.7uF" H 9765 3155 50  0000 L CNN
F 2 "" H 9688 3050 50  0001 C CNN
F 3 "~" H 9650 3200 50  0001 C CNN
	1    9650 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 3050 9100 3050
Wire Wire Line
	9200 3050 9650 3050
Connection ~ 9200 3050
Wire Wire Line
	9650 3350 9650 3550
Wire Wire Line
	9650 3550 9200 3550
Wire Wire Line
	9200 3350 9200 3550
Connection ~ 9200 3550
Wire Wire Line
	9200 3550 8600 3550
$Comp
L Interface_USB:CP2104 U1
U 1 1 61A20129
P 6150 5950
F 0 "U1" V 6104 4906 50  0000 R CNN
F 1 "CP2104" V 6195 4906 50  0000 R CNN
F 2 "Package_DFN_QFN:QFN-24-1EP_4x4mm_P0.5mm_EP2.6x2.6mm" H 6300 5000 50  0001 L CNN
F 3 "https://www.silabs.com/documents/public/data-sheets/cp2104.pdf" H 5600 7200 50  0001 C CNN
	1    6150 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 7050 6150 6950
Wire Wire Line
	2250 2400 950  2400
$Comp
L Connector:USB_B_Micro J1
U 1 1 61A2A9CC
P 1150 5750
F 0 "J1" H 1207 6217 50  0000 C CNN
F 1 "USB_B_Micro" H 1207 6126 50  0000 C CNN
F 2 "" H 1300 5700 50  0001 C CNN
F 3 "~" H 1300 5700 50  0001 C CNN
	1    1150 5750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR01
U 1 1 61A2AA3A
P 1100 6850
F 0 "#PWR01" H 1100 6600 50  0001 C CNN
F 1 "GND" H 1105 6677 50  0000 C CNN
F 2 "" H 1100 6850 50  0001 C CNN
F 3 "" H 1100 6850 50  0001 C CNN
	1    1100 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 6150 1050 6750
Wire Wire Line
	1050 6750 1100 6750
Wire Wire Line
	1100 6750 1100 6850
Wire Wire Line
	1150 6150 1150 6750
Wire Wire Line
	1150 6750 1100 6750
Connection ~ 1100 6750
Wire Wire Line
	6250 5300 6250 5650
Wire Notes Line
	7150 7350 800  7350
Wire Notes Line
	800  7350 800  4950
Wire Notes Line
	800  4950 7150 4950
Wire Notes Line
	7150 4950 7150 7350
Wire Notes Line
	9800 2150 800  2150
Wire Notes Line
	800  2150 800  4200
Wire Notes Line
	800  4200 9800 4200
Wire Notes Line
	9800 4200 9800 2150
Text Notes 900  2300 0    50   ~ 0
LiPo bypass
Text Notes 850  5100 0    50   ~ 0
USB to UART
$Comp
L power:GND #PWR?
U 1 1 61A82BD6
P 15550 3800
F 0 "#PWR?" H 15550 3550 50  0001 C CNN
F 1 "GND" H 15555 3627 50  0001 C CNN
F 2 "" H 15550 3800 50  0001 C CNN
F 3 "" H 15550 3800 50  0001 C CNN
	1    15550 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	15200 3800 15550 3800
Wire Wire Line
	15200 3700 15550 3700
Wire Wire Line
	15550 3700 15550 3800
Connection ~ 15550 3800
Wire Wire Line
	15200 3600 15550 3600
Wire Wire Line
	15550 3600 15550 3700
Connection ~ 15550 3700
$Comp
L Connector_Generic:Conn_01x02 BAT1
U 1 1 61A98D8C
P 1600 1250
F 0 "BAT1" H 1518 925 50  0000 C CNN
F 1 "Conn_01x02" H 1518 1016 50  0000 C CNN
F 2 "Connector_JST:JST_PH_B2B-PH-K_1x02_P2.00mm_Vertical" H 1600 1250 50  0001 C CNN
F 3 "~" H 1600 1250 50  0001 C CNN
	1    1600 1250
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61AA9E52
P 2600 1450
F 0 "#PWR?" H 2600 1200 50  0001 C CNN
F 1 "GND" H 2605 1277 50  0000 C CNN
F 2 "" H 2600 1450 50  0001 C CNN
F 3 "" H 2600 1450 50  0001 C CNN
	1    2600 1450
	1    0    0    -1  
$EndComp
Text Notes 1500 1300 2    50   ~ 0
3.7V LiPo\nJST-PH 2.0mm
$Comp
L Switch:SW_DPDT_x2 SW1
U 1 1 61A8CB1B
P 2150 1350
F 0 "SW1" H 2150 1150 50  0000 C CNN
F 1 "MSS22D18" H 2150 1050 50  0000 C CNN
F 2 "" H 2150 1350 50  0001 C CNN
F 3 "~" H 2150 1350 50  0001 C CNN
	1    2150 1350
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1800 1250 1950 1250
Wire Wire Line
	2350 1350 2600 1350
Wire Wire Line
	2600 1350 2600 1450
Wire Notes Line
	800  1800 800  650 
Wire Notes Line
	800  650  3400 650 
Wire Notes Line
	3400 650  3400 1800
Wire Notes Line
	3400 1800 800  1800
Text Notes 900  800  0    50   ~ 0
LiPo Battery Connector
Wire Wire Line
	1800 1150 7000 1150
Wire Wire Line
	7000 1150 7000 2600
Wire Wire Line
	6250 6950 6250 7050
Wire Wire Line
	6150 5050 6150 5650
Wire Wire Line
	1450 5850 5450 5850
Wire Wire Line
	1450 5750 3600 5750
Wire Wire Line
	3600 5750 3600 5950
Wire Wire Line
	3600 5950 5450 5950
Wire Wire Line
	1450 5550 5450 5550
Wire Wire Line
	10250 5850 10250 3300
Wire Wire Line
	10250 3300 10550 3300
Wire Wire Line
	10550 3200 10150 3200
Wire Wire Line
	10150 3200 10150 5950
Wire Wire Line
	6850 5950 10150 5950
Wire Wire Line
	6850 5850 10250 5850
NoConn ~ 1700 3200
$Comp
L Switch:SW_Push SW1
U 1 1 61B40E73
P 10000 1450
F 0 "SW1" H 10000 1735 50  0000 C CNN
F 1 "SW_Reset" H 10000 1644 50  0000 C CNN
F 2 "" H 10000 1650 50  0001 C CNN
F 3 "~" H 10000 1650 50  0001 C CNN
	1    10000 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61B41F19
P 9600 1450
F 0 "#PWR?" H 9600 1200 50  0001 C CNN
F 1 "GND" H 9605 1277 50  0000 C CNN
F 2 "" H 9600 1450 50  0001 C CNN
F 3 "" H 9600 1450 50  0001 C CNN
	1    9600 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 1450 9800 1450
Wire Wire Line
	10200 1450 10550 1450
$EndSCHEMATC
